
# ðŸ›’ CartWizard

CartWizard æ˜¯ä¸€å¥—æ™ºæ…§è³¼ç‰©è»Šç³»çµ±ï¼Œçµåˆå³æ™‚æŠ˜æ‰£æ‹†å¸³å’Œ AI åŠ è³¼æŽ¨è–¦åŠŸèƒ½ï¼Œå¹«åŠ©æ¶ˆè²»è€…åœ¨è³¼ç‰©æ™‚ç²å¾—æœ€åˆ’ç®—çš„æŠ˜æ‰£çµ„åˆã€‚

---

## ðŸ“¦ ç›®éŒ„çµæ§‹

```
CartWizard/
â”œâ”€â”€ backend/                # FastAPI å¾Œç«¯æœå‹™
â”‚   â”œâ”€â”€ main.py             # API è·¯ç”±èˆ‡æ ¸å¿ƒè™•ç†
â”‚   â””â”€â”€ src/                # æ ¸å¿ƒæ¼”ç®—æ³•èˆ‡ AI æ¨¡åž‹
â”‚       â”œâ”€â”€ core/solver.py
â”‚       â”œâ”€â”€ ai/predict_addon.py
â”‚       â””â”€â”€ ai/train_addon_model.py
â”œâ”€â”€ data/                   # æ¸¬è©¦è³‡æ–™èˆ‡æ¨¡åž‹
â”‚   â”œâ”€â”€ raw/                # åŽŸå§‹å•†å“èˆ‡æŠ˜æ‰£è¦å‰‡
â”‚   â”œâ”€â”€ training/           # AI è¨“ç·´æª”èˆ‡æ¨¡åž‹
â”‚   â”œâ”€â”€ carts/              # æ¨¡æ“¬ç”¢ç”Ÿçš„è³¼ç‰©è»Šè³‡æ–™
â”‚   â””â”€â”€ user_simulated/     # ä½¿ç”¨è€…æ¨¡æ“¬çµæžœ
â”œâ”€â”€ frontend/               # å‰ç«¯é é¢
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ 02_addon.html
â”‚   â”œâ”€â”€ 03_simulation.html
â”‚   â”œâ”€â”€ style.css
â”‚   â””â”€â”€ cart_simulation.js
â””â”€â”€ README.md
```

---

## ðŸš€ åŠŸèƒ½ç¸½è¦½

âœ… **å•†å“èˆ‡æŠ˜æ‰£è¦å‰‡å³æ™‚è¼‰å…¥**  
âœ… **å•†å“åˆ†é¡žèˆ‡æŠ˜æ‰£ç¯©é¸**  
âœ… **æœ€åˆ’ç®—æŠ˜æ‰£çµ„åˆæ‹†å¸³**  
âœ… **AI åŠ è³¼æŽ¨è–¦ï¼ˆTop 3ï¼‰**  
âœ… **æŽ¨è–¦çµæžœä»¥å¡ç‰‡å¼ UI å‘ˆç¾**  
âœ… **æ¨¡æ“¬çµæžœä¿å­˜è‡³æª”æ¡ˆ**

---

## ðŸ§ª æ¨¡æ“¬åŠ è³¼æŽ¨è–¦

åœ¨ `03_simulation.html` é é¢ä¸­ï¼Œä½¿ç”¨è€…å¯ä»¥ï¼š
1. é¸æ“‡æƒ³è³¼è²·çš„å•†å“ï¼Œç³»çµ±æœƒè‡ªå‹•å³æ™‚æ‹†å¸³ä¸¦è¨ˆç®—æŠ˜æ‰£ã€‚
2. å‰ç«¯æœƒè‡ªå‹•å‘¼å«å¾Œç«¯ `/simulate_addon` APIï¼Œå–å¾— AI åŠ è³¼æŽ¨è–¦çµæžœã€‚
3. é è¦½ **Top 3 åŠ è³¼é¸é …**ï¼ŒåŒ…å«ï¼š
   - å–®åƒ¹èˆ‡æŽ¨è–¦åˆ†æ•¸
   - åŠ è³¼å¾Œç¸½åƒ¹èˆ‡ç¯€çœé‡‘é¡
   - ä½¿ç”¨åˆ°çš„æŠ˜æ‰£ ID

æŽ¨è–¦çµæžœå·²å„ªåŒ–ç‚ºå¡ç‰‡å¼æ¨£å¼ï¼Œä½¿ç”¨è€…æ›´æ˜“é–±è®€ã€‚

---

## ðŸŒ API æ–‡ä»¶

### `/api/products`  
å–å¾—å•†å“æ¸…å–®ï¼ˆJSON æ ¼å¼ï¼‰ã€‚

### `/api/discounts`  
å–å¾—æŠ˜æ‰£è¦å‰‡æ¸…å–®ï¼ˆJSON æ ¼å¼ï¼‰ã€‚

### `/api/cart_summary`  
**æ–¹æ³•**ï¼šPOST  
**ä¸Šå‚³**ï¼šè³¼ç‰©è»Šï¼ˆ`FormData` æ ¼å¼ï¼Œ`file` æ¬„ä½æ”¾ `cart.json`ï¼‰  
**å›žå‚³**ï¼šæŠ˜æ‰£æ‹†å¸³çµæžœï¼Œå«å¤šå¼µç™¼ç¥¨èˆ‡æ¯å¼µç™¼ç¥¨çš„æŠ˜æ‰£æ˜Žç´°ã€‚

### `/api/simulate_addon`  
**æ–¹æ³•**ï¼šPOST  
**å‚³å…¥**ï¼š`{ "items": [...] }`ï¼ˆJSON æ ¼å¼ï¼‰  
**å›žå‚³**ï¼š`recommendations`ï¼ˆTop 3 åŠ è³¼æŽ¨è–¦çµæžœï¼‰ï¼ŒåŒ…å«åŠ è³¼å¾Œåƒ¹æ ¼ã€ç¯€çœé‡‘é¡ã€ä½¿ç”¨åˆ°çš„æŠ˜æ‰£ç­‰ã€‚

### `/api/save_simulation`  
**æ–¹æ³•**ï¼šPOST  
**å‚³å…¥**ï¼š`{ "items": [...] }`ï¼ˆJSON æ ¼å¼ï¼‰  
**å›žå‚³**ï¼š`{"file": "data/user_simulated/sim_*.json"}`ï¼ˆå·²å„²å­˜æª”æ¡ˆè·¯å¾‘ï¼‰ã€‚

---

## âš™ï¸ åŸ·è¡Œæ–¹å¼

### 1ï¸âƒ£ å®‰è£ä¾è³´
```bash
pip install -r requirements.txt
```

### 2ï¸âƒ£ å•Ÿå‹•å¾Œç«¯ API
```bash
uvicorn backend.main:app --reload
```

### 3ï¸âƒ£ ç€è¦½å‰ç«¯
ç›´æŽ¥é–‹å•Ÿ `https://asloli.github.io/CartWizard/index.html`ï¼Œå³å¯æ¸¬è©¦å³æ™‚åŠ è³¼æ¨¡æ“¬èˆ‡æŠ˜æ‰£æŽ¨è–¦ã€‚

---

## ðŸ”§ AI æ¨¡åž‹è¨“ç·´æµç¨‹
1. ä½¿ç”¨ `data/carts/` ä¸­çš„çœŸå¯¦æˆ–æ¨¡æ“¬è³¼ç‰©è»Šè³‡æ–™ï¼Œç”Ÿæˆè¨“ç·´è³‡æ–™é›†ï¼ˆåŒ…å«ã€ŒåŠ è³¼å‰ã€èˆ‡ã€ŒåŠ è³¼å¾Œã€çš„æŠ˜æ‰£æ‹†å¸³çµæžœï¼‰ã€‚
2. `train_addon_model.py` æœƒå‘¼å« `extract_features`ï¼Œè‡ªå‹•æŠ½å–è³¼ç‰©è»Šç‰¹å¾µï¼ˆå¦‚å•†å“ç¨®é¡žåˆ†å¸ƒã€å¹³å‡åƒ¹æ ¼ç­‰ï¼‰ã€‚
3. ä½¿ç”¨ LightGBM è¨“ç·´åˆ†é¡žæ¨¡åž‹ï¼Œç”¢å‡ºæœ€é©åˆåŠ è³¼æŽ¨è–¦çš„æ¨¡åž‹ `addon_model.txtã€‚`
4. è¨“ç·´å¾Œçš„æ¨¡åž‹å¯ç›´æŽ¥è¢« `/simulate_addon` API ä½¿ç”¨ï¼Œå¯¦ç¾å³æ™‚åŠ è³¼æŽ¨è–¦ã€‚

---

## ðŸ’¡ å»¶ä¼¸æƒ³æ³•

- ðŸ’» **UI ç¾ŽåŒ–**ï¼šå‰ç«¯å·²ä½¿ç”¨å¡ç‰‡å¼æ¨£å¼ï¼Œå¾ŒçºŒå¯å†ç¾ŽåŒ– hover/å‹•ç•«æ•ˆæžœã€‚
- ðŸ¤– **AI æ¨¡åž‹å„ªåŒ–**ï¼šç›®å‰ä½¿ç”¨ LightGBMï¼Œå¯æ›¿æ›æ›´å¼·çš„æ¨¡åž‹æˆ–æŒçºŒæ“´å……è¨“ç·´è³‡æ–™ã€‚æœªä¾†å¯å¾ž 03_simulation.html ç”¢å‡ºçš„çœŸå¯¦æ¨¡æ“¬åŠ è³¼è³‡æ–™ä¸­ï¼Œèƒå–ä½¿ç”¨è€…åå¥½èˆ‡å¯¦éš›çš„ã€ŒåŠ è³¼æ„é¡˜ã€è³‡æ–™ï¼Œå¼·åŒ– AI æŽ¨è–¦æ¬Šé‡ï¼Œè®“ AI æ›´ç²¾æº–åœ°æŽ¨è–¦å‡ºèƒ½çœŸæ­£è®“ä½¿ç”¨è€…é¡˜æ„å¤šé¸è³¼çš„åŠ è³¼å•†å“ã€‚
- ðŸŒ **éƒ¨ç½²**ï¼šå¯ä½¿ç”¨ Docker / GitHub Pages éƒ¨ç½²ï¼Œå¿«é€Ÿé«”é©—å‰å¾Œç«¯æ•´åˆã€‚

---

## ðŸ“ ç‰ˆæœ¬è¨˜éŒ„
- `v0.3-alpha`ï¼šåŠ å…¥ AI åŠ è³¼æŽ¨è–¦ã€å¡ç‰‡å¼çµæžœå‘ˆç¾ã€bug fixã€‚

---

## ðŸ“œ License

æœ¬å°ˆæ¡ˆæŽˆæ¬Šæ–¹å¼ç‚º **MIT License**ã€‚  
å¯è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹èˆ‡å•†æ¥­åŒ–ï¼ŒæƒŸéœ€ä¿ç•™åŽŸä½œè€…ç½²åã€‚

---

> ä½œè€…ï¼šæž—å† å‚‘ï¼ˆKuan-Chieh Linï¼‰  
> å°ˆæ¡ˆåç¨±ï¼š**CartWizard**  
> A smart discount-splitting & upsell recommender system for modern ecommerce.